# yaml-language-server: $schema=conf.schema.json
redis:
  dsn: "redis://127.0.0.1:6379/0" # redis DSN
  timeout: 10 # connect timeout seconds

database:
  type: "sqlite" # database type, support sqlite, mysql
  dsn: "data.db?_pragma=busy_timeout(10000)&_pragma=foreign_keys(1)" # database DSN
  salt_prefix: "en[7" # password salt prefix, modification needs reset all user password
  salt_suffix: "z1&." # password salt suffix, modification needs reset all user password

session:
  cookie: "GOSESSIONID" # session cookie name
  prefix: "session_" # prefix in redis, please prevent glob pattern keywords like ? and *
  expire: 3600 # default expire time seconds
  remember: 5184000 # remember expire time seconds
  timeout: 10 # connect/query timeout seconds

header:
  csp: "default-src 'none'" # Content Security Policy, https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP

listen:
  address: "0.0.0.0:8080" # listen address
  allowhosts: "" # if set, only allow listed host, allow regex, seperated by ,
  ssl: false # enable ssl
  ssl_cert: "" # ssl certificate path(.crt)
  ssl_key: "" # ssl key path(.key)

proxy:
  enable: false # if skynet is behind proxy, enable to get correct ip
  header: "X-Forwarded-For" # ip header set by proxy server
  trusted: "" # trusted proxy address, client ip will be the first untrusted one in header, seperated by ,

recaptcha:
  enable: false # if enable recaptcha
  cnmirror: true # china recaptcha mirror
  sitekey: "" # recaptcha sitekey
  secret: "" # recaptcha secret
  timeout: 10 # connect timeout seconds

csrf:
  prefix: "csrf_" # redis prefix
  expire: 10 # cookie timeout second

avatar: "default.webp" # default avatar
