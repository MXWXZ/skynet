{
  "$schema": "http://json-schema.org/draft-07/schema",
  "type": "object",
  "properties": {
    "redis": {
      "type": "object",
      "required": ["dsn"],
      "properties": {
        "dsn": { "type": "string" },
        "timeout": { "type": "number", "minimum": 0 }
      }
    },
    "database": {
      "type": "object",
      "required": ["type", "dsn"],
      "properties": {
        "type": { "type": "string", "enum": ["sqlite", "mysql"] },
        "dsn": { "type": "string" },
        "salt_prefix": { "type": "string" },
        "salt_suffix": { "type": "string" }
      }
    },
    "session": {
      "type": "object",
      "properties": {
        "cookie": { "type": "string" },
        "prefix": { "type": "string" },
        "expire": { "type": "number", "minimum": 0 },
        "remember": { "type": "number", "minimum": 0 },
        "timeout": { "type": "number", "minimum": 0 }
      }
    },
    "header": {
      "type": "object",
      "properties": {
        "csp": { "type": "string" }
      }
    },
    "listen": {
      "type": "object",
      "properties": {
        "address": { "type": "string" },
        "allowhosts": { "type": "string" },
        "ssl": { "type": "boolean" },
        "ssl_cert": { "type": "string" },
        "ssl_key": { "type": "string" }
      }
    },
    "proxy": {
      "type": "object",
      "properties": {
        "enable": { "type": "boolean" },
        "header": { "type": "string" },
        "trusted": { "type": "string" }
      }
    },
    "recaptcha": {
      "type": "object",
      "properties": {
        "enable": { "type": "boolean" },
        "cnmirror": { "type": "boolean" },
        "sitekey": { "type": "string" },
        "secret": { "type": "string" },
        "timeout": { "type": "number", "minimum": 0 }
      }
    },
    "csrf": {
      "type": "object",
      "properties": {
        "prefix": { "type": "string" },
        "expire": { "type": "number", "minimum": 0 }
      }
    },
    "avatar": { "type": "string" }
  }
}
